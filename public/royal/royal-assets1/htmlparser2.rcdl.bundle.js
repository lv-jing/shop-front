(window["RCDLjsonFunction"]=window["RCDLjsonFunction"]||[]).push([[57],{435:function(t,e,i){var s=i(656);var n=i(846);function defineProp(e,i){delete t.exports[e];t.exports[e]=i;return i}t.exports={Parser:s,Tokenizer:i(657),ElementType:i(444),DomHandler:n,get FeedHandler(){return defineProp("FeedHandler",i(848))},get Stream(){return defineProp("Stream",i(849))},get WritableStream(){return defineProp("WritableStream",i(661))},get ProxyHandler(){return defineProp("ProxyHandler",i(851))},get DomUtils(){return defineProp("DomUtils",i(436))},get CollectingHandler(){return defineProp("CollectingHandler",i(862))},DefaultHandler:n,get RssHandler(){return defineProp("RssHandler",this.FeedHandler)},parseDOM:function(t,e){var i=new n(e);new s(i,e).end(t);return i.dom},parseFeed:function(e,i){var n=new t.exports.FeedHandler(i);new s(n,i).end(e);return n.dom},createDomStream:function(t,e,i){var r=new n(t,e,i);return new s(r,e)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},656:function(t,e,i){var s=i(657);var n={input:true,option:true,optgroup:true,select:true,button:true,datalist:true,textarea:true};var r={tr:{tr:true,th:true,td:true},th:{th:true},td:{thead:true,th:true,td:true},body:{head:true,link:true,script:true},li:{li:true},p:{p:true},h1:{p:true},h2:{p:true},h3:{p:true},h4:{p:true},h5:{p:true},h6:{p:true},select:n,input:n,output:n,button:n,datalist:n,textarea:n,option:{option:true},optgroup:{optgroup:true}};var a={__proto__:null,area:true,base:true,basefont:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,isindex:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true};var o={__proto__:null,math:true,svg:true};var h={__proto__:null,mi:true,mo:true,mn:true,ms:true,mtext:true,"annotation-xml":true,foreignObject:true,desc:true,title:true};var _=/\s|\//;function Parser(t,e){this._options=e||{};this._cbs=t||{};this._tagname="";this._attribname="";this._attribvalue="";this._attribs=null;this._stack=[];this._foreignContext=[];this.startIndex=0;this.endIndex=null;this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode;this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode;if(this._options.Tokenizer){s=this._options.Tokenizer}this._tokenizer=new s(this._options,this);if(this._cbs.onparserinit)this._cbs.onparserinit(this)}i(424)(Parser,i(460).EventEmitter);Parser.prototype._updatePosition=function(t){if(this.endIndex===null){if(this._tokenizer._sectionStart<=t){this.startIndex=0}else{this.startIndex=this._tokenizer._sectionStart-t}}else this.startIndex=this.endIndex+1;this.endIndex=this._tokenizer.getAbsoluteIndex()};Parser.prototype.ontext=function(t){this._updatePosition(1);this.endIndex--;if(this._cbs.ontext)this._cbs.ontext(t)};Parser.prototype.onopentagname=function(t){if(this._lowerCaseTagNames){t=t.toLowerCase()}this._tagname=t;if(!this._options.xmlMode&&t in r){for(var e;(e=this._stack[this._stack.length-1])in r[t];this.onclosetag(e));}if(this._options.xmlMode||!(t in a)){this._stack.push(t);if(t in o)this._foreignContext.push(true);else if(t in h)this._foreignContext.push(false)}if(this._cbs.onopentagname)this._cbs.onopentagname(t);if(this._cbs.onopentag)this._attribs={}};Parser.prototype.onopentagend=function(){this._updatePosition(1);if(this._attribs){if(this._cbs.onopentag)this._cbs.onopentag(this._tagname,this._attribs);this._attribs=null}if(!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a){this._cbs.onclosetag(this._tagname)}this._tagname=""};Parser.prototype.onclosetag=function(t){this._updatePosition(1);if(this._lowerCaseTagNames){t=t.toLowerCase()}if(this._stack.length&&(!(t in a)||this._options.xmlMode)){var e=this._stack.lastIndexOf(t);if(e!==-1){if(this._cbs.onclosetag){e=this._stack.length-e;while(e--)this._cbs.onclosetag(this._stack.pop())}else this._stack.length=e}else if(t==="p"&&!this._options.xmlMode){this.onopentagname(t);this._closeCurrentTag()}}else if(!this._options.xmlMode&&(t==="br"||t==="p")){this.onopentagname(t);this._closeCurrentTag()}};Parser.prototype.onselfclosingtag=function(){if(this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]){this._closeCurrentTag()}else{this.onopentagend()}};Parser.prototype._closeCurrentTag=function(){var t=this._tagname;this.onopentagend();if(this._stack[this._stack.length-1]===t){if(this._cbs.onclosetag){this._cbs.onclosetag(t)}this._stack.pop();if(t in o||t in h){this._foreignContext.pop()}}};Parser.prototype.onattribname=function(t){if(this._lowerCaseAttributeNames){t=t.toLowerCase()}this._attribname=t};Parser.prototype.onattribdata=function(t){this._attribvalue+=t};Parser.prototype.onattribend=function(){if(this._cbs.onattribute)this._cbs.onattribute(this._attribname,this._attribvalue);if(this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)){this._attribs[this._attribname]=this._attribvalue}this._attribname="";this._attribvalue=""};Parser.prototype._getInstructionName=function(t){var e=t.search(_),i=e<0?t:t.substr(0,e);if(this._lowerCaseTagNames){i=i.toLowerCase()}return i};Parser.prototype.ondeclaration=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("!"+e,"!"+t)}};Parser.prototype.onprocessinginstruction=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("?"+e,"?"+t)}};Parser.prototype.oncomment=function(t){this._updatePosition(4);if(this._cbs.oncomment)this._cbs.oncomment(t);if(this._cbs.oncommentend)this._cbs.oncommentend()};Parser.prototype.oncdata=function(t){this._updatePosition(1);if(this._options.xmlMode||this._options.recognizeCDATA){if(this._cbs.oncdatastart)this._cbs.oncdatastart();if(this._cbs.ontext)this._cbs.ontext(t);if(this._cbs.oncdataend)this._cbs.oncdataend()}else{this.oncomment("[CDATA["+t+"]]")}};Parser.prototype.onerror=function(t){if(this._cbs.onerror)this._cbs.onerror(t)};Parser.prototype.onend=function(){if(this._cbs.onclosetag){for(var t=this._stack.length;t>0;this._cbs.onclosetag(this._stack[--t]));}if(this._cbs.onend)this._cbs.onend()};Parser.prototype.reset=function(){if(this._cbs.onreset)this._cbs.onreset();this._tokenizer.reset();this._tagname="";this._attribname="";this._attribs=null;this._stack=[];if(this._cbs.onparserinit)this._cbs.onparserinit(this)};Parser.prototype.parseComplete=function(t){this.reset();this.end(t)};Parser.prototype.write=function(t){this._tokenizer.write(t)};Parser.prototype.end=function(t){this._tokenizer.end(t)};Parser.prototype.pause=function(){this._tokenizer.pause()};Parser.prototype.resume=function(){this._tokenizer.resume()};Parser.prototype.parseChunk=Parser.prototype.write;Parser.prototype.done=Parser.prototype.end;t.exports=Parser},657:function(t,e,i){t.exports=Tokenizer;var s=i(658);var n=i(483);var r=i(659);var a=i(484);var o=0;var h=o++;var _=o++;var f=o++;var c=o++;var l=o++;var p=o++;var d=o++;var u=o++;var b=o++;var m=o++;var y=o++;var g=o++;var S=o++;var x=o++;var v=o++;var T=o++;var k=o++;var C=o++;var z=o++;var E=o++;var w=o++;var P=o++;var N=o++;var A=o++;var B=o++;var I=o++;var D=o++;var H=o++;var M=o++;var O=o++;var F=o++;var L=o++;var V=o++;var j=o++;var R=o++;var Q=o++;var U=o++;var W=o++;var Y=o++;var X=o++;var Z=o++;var q=o++;var G=o++;var J=o++;var K=o++;var $=o++;var tt=o++;var et=o++;var it=o++;var st=o++;var nt=o++;var rt=o++;var at=o++;var ot=o++;var ht=o++;var _t=0;var ft=_t++;var ct=_t++;var lt=_t++;function whitespace(t){return t===" "||t==="\n"||t==="\t"||t==="\f"||t==="\r"}function ifElseState(t,e,i){var s=t.toLowerCase();if(t===s){return function(t){if(t===s){this._state=e}else{this._state=i;this._index--}}}else{return function(n){if(n===s||n===t){this._state=e}else{this._state=i;this._index--}}}}function consumeSpecialNameChar(t,e){var i=t.toLowerCase();return function(s){if(s===i||s===t){this._state=e}else{this._state=f;this._index--}}}function Tokenizer(t,e){this._state=h;this._buffer="";this._sectionStart=0;this._index=0;this._bufferOffset=0;this._baseState=h;this._special=ft;this._cbs=e;this._running=true;this._ended=false;this._xmlMode=!!(t&&t.xmlMode);this._decodeEntities=!!(t&&t.decodeEntities)}Tokenizer.prototype._stateText=function(t){if(t==="<"){if(this._index>this._sectionStart){this._cbs.ontext(this._getSection())}this._state=_;this._sectionStart=this._index}else if(this._decodeEntities&&this._special===ft&&t==="&"){if(this._index>this._sectionStart){this._cbs.ontext(this._getSection())}this._baseState=h;this._state=nt;this._sectionStart=this._index}};Tokenizer.prototype._stateBeforeTagName=function(t){if(t==="/"){this._state=l}else if(t==="<"){this._cbs.ontext(this._getSection());this._sectionStart=this._index}else if(t===">"||this._special!==ft||whitespace(t)){this._state=h}else if(t==="!"){this._state=v;this._sectionStart=this._index+1}else if(t==="?"){this._state=k;this._sectionStart=this._index+1}else{this._state=!this._xmlMode&&(t==="s"||t==="S")?F:f;this._sectionStart=this._index}};Tokenizer.prototype._stateInTagName=function(t){if(t==="/"||t===">"||whitespace(t)){this._emitToken("onopentagname");this._state=u;this._index--}};Tokenizer.prototype._stateBeforeCloseingTagName=function(t){if(whitespace(t));else if(t===">"){this._state=h}else if(this._special!==ft){if(t==="s"||t==="S"){this._state=L}else{this._state=h;this._index--}}else{this._state=p;this._sectionStart=this._index}};Tokenizer.prototype._stateInCloseingTagName=function(t){if(t===">"||whitespace(t)){this._emitToken("onclosetag");this._state=d;this._index--}};Tokenizer.prototype._stateAfterCloseingTagName=function(t){if(t===">"){this._state=h;this._sectionStart=this._index+1}};Tokenizer.prototype._stateBeforeAttributeName=function(t){if(t===">"){this._cbs.onopentagend();this._state=h;this._sectionStart=this._index+1}else if(t==="/"){this._state=c}else if(!whitespace(t)){this._state=b;this._sectionStart=this._index}};Tokenizer.prototype._stateInSelfClosingTag=function(t){if(t===">"){this._cbs.onselfclosingtag();this._state=h;this._sectionStart=this._index+1}else if(!whitespace(t)){this._state=u;this._index--}};Tokenizer.prototype._stateInAttributeName=function(t){if(t==="="||t==="/"||t===">"||whitespace(t)){this._cbs.onattribname(this._getSection());this._sectionStart=-1;this._state=m;this._index--}};Tokenizer.prototype._stateAfterAttributeName=function(t){if(t==="="){this._state=y}else if(t==="/"||t===">"){this._cbs.onattribend();this._state=u;this._index--}else if(!whitespace(t)){this._cbs.onattribend();this._state=b;this._sectionStart=this._index}};Tokenizer.prototype._stateBeforeAttributeValue=function(t){if(t==='"'){this._state=g;this._sectionStart=this._index+1}else if(t==="'"){this._state=S;this._sectionStart=this._index+1}else if(!whitespace(t)){this._state=x;this._sectionStart=this._index;this._index--}};Tokenizer.prototype._stateInAttributeValueDoubleQuotes=function(t){if(t==='"'){this._emitToken("onattribdata");this._cbs.onattribend();this._state=u}else if(this._decodeEntities&&t==="&"){this._emitToken("onattribdata");this._baseState=this._state;this._state=nt;this._sectionStart=this._index}};Tokenizer.prototype._stateInAttributeValueSingleQuotes=function(t){if(t==="'"){this._emitToken("onattribdata");this._cbs.onattribend();this._state=u}else if(this._decodeEntities&&t==="&"){this._emitToken("onattribdata");this._baseState=this._state;this._state=nt;this._sectionStart=this._index}};Tokenizer.prototype._stateInAttributeValueNoQuotes=function(t){if(whitespace(t)||t===">"){this._emitToken("onattribdata");this._cbs.onattribend();this._state=u;this._index--}else if(this._decodeEntities&&t==="&"){this._emitToken("onattribdata");this._baseState=this._state;this._state=nt;this._sectionStart=this._index}};Tokenizer.prototype._stateBeforeDeclaration=function(t){this._state=t==="["?P:t==="-"?C:T};Tokenizer.prototype._stateInDeclaration=function(t){if(t===">"){this._cbs.ondeclaration(this._getSection());this._state=h;this._sectionStart=this._index+1}};Tokenizer.prototype._stateInProcessingInstruction=function(t){if(t===">"){this._cbs.onprocessinginstruction(this._getSection());this._state=h;this._sectionStart=this._index+1}};Tokenizer.prototype._stateBeforeComment=function(t){if(t==="-"){this._state=z;this._sectionStart=this._index+1}else{this._state=T}};Tokenizer.prototype._stateInComment=function(t){if(t==="-")this._state=E};Tokenizer.prototype._stateAfterComment1=function(t){if(t==="-"){this._state=w}else{this._state=z}};Tokenizer.prototype._stateAfterComment2=function(t){if(t===">"){this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2));this._state=h;this._sectionStart=this._index+1}else if(t!=="-"){this._state=z}};Tokenizer.prototype._stateBeforeCdata1=ifElseState("C",N,T);Tokenizer.prototype._stateBeforeCdata2=ifElseState("D",A,T);Tokenizer.prototype._stateBeforeCdata3=ifElseState("A",B,T);Tokenizer.prototype._stateBeforeCdata4=ifElseState("T",I,T);Tokenizer.prototype._stateBeforeCdata5=ifElseState("A",D,T);Tokenizer.prototype._stateBeforeCdata6=function(t){if(t==="["){this._state=H;this._sectionStart=this._index+1}else{this._state=T;this._index--}};Tokenizer.prototype._stateInCdata=function(t){if(t==="]")this._state=M};Tokenizer.prototype._stateAfterCdata1=function(t){if(t==="]")this._state=O;else this._state=H};Tokenizer.prototype._stateAfterCdata2=function(t){if(t===">"){this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2));this._state=h;this._sectionStart=this._index+1}else if(t!=="]"){this._state=H}};Tokenizer.prototype._stateBeforeSpecial=function(t){if(t==="c"||t==="C"){this._state=V}else if(t==="t"||t==="T"){this._state=G}else{this._state=f;this._index--}};Tokenizer.prototype._stateBeforeSpecialEnd=function(t){if(this._special===ct&&(t==="c"||t==="C")){this._state=W}else if(this._special===lt&&(t==="t"||t==="T")){this._state=tt}else this._state=h};Tokenizer.prototype._stateBeforeScript1=consumeSpecialNameChar("R",j);Tokenizer.prototype._stateBeforeScript2=consumeSpecialNameChar("I",R);Tokenizer.prototype._stateBeforeScript3=consumeSpecialNameChar("P",Q);Tokenizer.prototype._stateBeforeScript4=consumeSpecialNameChar("T",U);Tokenizer.prototype._stateBeforeScript5=function(t){if(t==="/"||t===">"||whitespace(t)){this._special=ct}this._state=f;this._index--};Tokenizer.prototype._stateAfterScript1=ifElseState("R",Y,h);Tokenizer.prototype._stateAfterScript2=ifElseState("I",X,h);Tokenizer.prototype._stateAfterScript3=ifElseState("P",Z,h);Tokenizer.prototype._stateAfterScript4=ifElseState("T",q,h);Tokenizer.prototype._stateAfterScript5=function(t){if(t===">"||whitespace(t)){this._special=ft;this._state=p;this._sectionStart=this._index-6;this._index--}else this._state=h};Tokenizer.prototype._stateBeforeStyle1=consumeSpecialNameChar("Y",J);Tokenizer.prototype._stateBeforeStyle2=consumeSpecialNameChar("L",K);Tokenizer.prototype._stateBeforeStyle3=consumeSpecialNameChar("E",$);Tokenizer.prototype._stateBeforeStyle4=function(t){if(t==="/"||t===">"||whitespace(t)){this._special=lt}this._state=f;this._index--};Tokenizer.prototype._stateAfterStyle1=ifElseState("Y",et,h);Tokenizer.prototype._stateAfterStyle2=ifElseState("L",it,h);Tokenizer.prototype._stateAfterStyle3=ifElseState("E",st,h);Tokenizer.prototype._stateAfterStyle4=function(t){if(t===">"||whitespace(t)){this._special=ft;this._state=p;this._sectionStart=this._index-5;this._index--}else this._state=h};Tokenizer.prototype._stateBeforeEntity=ifElseState("#",rt,at);Tokenizer.prototype._stateBeforeNumericEntity=ifElseState("X",ht,ot);Tokenizer.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var t=this._buffer.substring(this._sectionStart+1,this._index),e=this._xmlMode?a:n;if(e.hasOwnProperty(t)){this._emitPartial(e[t]);this._sectionStart=this._index+1}}};Tokenizer.prototype._parseLegacyEntity=function(){var t=this._sectionStart+1,e=this._index-t;if(e>6)e=6;while(e>=2){var i=this._buffer.substr(t,e);if(r.hasOwnProperty(i)){this._emitPartial(r[i]);this._sectionStart+=e+1;return}else{e--}}};Tokenizer.prototype._stateInNamedEntity=function(t){if(t===";"){this._parseNamedEntityStrict();if(this._sectionStart+1<this._index&&!this._xmlMode){this._parseLegacyEntity()}this._state=this._baseState}else if((t<"a"||t>"z")&&(t<"A"||t>"Z")&&(t<"0"||t>"9")){if(this._xmlMode);else if(this._sectionStart+1===this._index);else if(this._baseState!==h){if(t!=="="){this._parseNamedEntityStrict()}}else{this._parseLegacyEntity()}this._state=this._baseState;this._index--}};Tokenizer.prototype._decodeNumericEntity=function(t,e){var i=this._sectionStart+t;if(i!==this._index){var n=this._buffer.substring(i,this._index);var r=parseInt(n,e);this._emitPartial(s(r));this._sectionStart=this._index}else{this._sectionStart--}this._state=this._baseState};Tokenizer.prototype._stateInNumericEntity=function(t){if(t===";"){this._decodeNumericEntity(2,10);this._sectionStart++}else if(t<"0"||t>"9"){if(!this._xmlMode){this._decodeNumericEntity(2,10)}else{this._state=this._baseState}this._index--}};Tokenizer.prototype._stateInHexEntity=function(t){if(t===";"){this._decodeNumericEntity(3,16);this._sectionStart++}else if((t<"a"||t>"f")&&(t<"A"||t>"F")&&(t<"0"||t>"9")){if(!this._xmlMode){this._decodeNumericEntity(3,16)}else{this._state=this._baseState}this._index--}};Tokenizer.prototype._cleanup=function(){if(this._sectionStart<0){this._buffer="";this._bufferOffset+=this._index;this._index=0}else if(this._running){if(this._state===h){if(this._sectionStart!==this._index){this._cbs.ontext(this._buffer.substr(this._sectionStart))}this._buffer="";this._bufferOffset+=this._index;this._index=0}else if(this._sectionStart===this._index){this._buffer="";this._bufferOffset+=this._index;this._index=0}else{this._buffer=this._buffer.substr(this._sectionStart);this._index-=this._sectionStart;this._bufferOffset+=this._sectionStart}this._sectionStart=0}};Tokenizer.prototype.write=function(t){if(this._ended)this._cbs.onerror(Error(".write() after done!"));this._buffer+=t;this._parse()};Tokenizer.prototype._parse=function(){while(this._index<this._buffer.length&&this._running){var t=this._buffer.charAt(this._index);if(this._state===h){this._stateText(t)}else if(this._state===_){this._stateBeforeTagName(t)}else if(this._state===f){this._stateInTagName(t)}else if(this._state===l){this._stateBeforeCloseingTagName(t)}else if(this._state===p){this._stateInCloseingTagName(t)}else if(this._state===d){this._stateAfterCloseingTagName(t)}else if(this._state===c){this._stateInSelfClosingTag(t)}else if(this._state===u){this._stateBeforeAttributeName(t)}else if(this._state===b){this._stateInAttributeName(t)}else if(this._state===m){this._stateAfterAttributeName(t)}else if(this._state===y){this._stateBeforeAttributeValue(t)}else if(this._state===g){this._stateInAttributeValueDoubleQuotes(t)}else if(this._state===S){this._stateInAttributeValueSingleQuotes(t)}else if(this._state===x){this._stateInAttributeValueNoQuotes(t)}else if(this._state===v){this._stateBeforeDeclaration(t)}else if(this._state===T){this._stateInDeclaration(t)}else if(this._state===k){this._stateInProcessingInstruction(t)}else if(this._state===C){this._stateBeforeComment(t)}else if(this._state===z){this._stateInComment(t)}else if(this._state===E){this._stateAfterComment1(t)}else if(this._state===w){this._stateAfterComment2(t)}else if(this._state===P){this._stateBeforeCdata1(t)}else if(this._state===N){this._stateBeforeCdata2(t)}else if(this._state===A){this._stateBeforeCdata3(t)}else if(this._state===B){this._stateBeforeCdata4(t)}else if(this._state===I){this._stateBeforeCdata5(t)}else if(this._state===D){this._stateBeforeCdata6(t)}else if(this._state===H){this._stateInCdata(t)}else if(this._state===M){this._stateAfterCdata1(t)}else if(this._state===O){this._stateAfterCdata2(t)}else if(this._state===F){this._stateBeforeSpecial(t)}else if(this._state===L){this._stateBeforeSpecialEnd(t)}else if(this._state===V){this._stateBeforeScript1(t)}else if(this._state===j){this._stateBeforeScript2(t)}else if(this._state===R){this._stateBeforeScript3(t)}else if(this._state===Q){this._stateBeforeScript4(t)}else if(this._state===U){this._stateBeforeScript5(t)}else if(this._state===W){this._stateAfterScript1(t)}else if(this._state===Y){this._stateAfterScript2(t)}else if(this._state===X){this._stateAfterScript3(t)}else if(this._state===Z){this._stateAfterScript4(t)}else if(this._state===q){this._stateAfterScript5(t)}else if(this._state===G){this._stateBeforeStyle1(t)}else if(this._state===J){this._stateBeforeStyle2(t)}else if(this._state===K){this._stateBeforeStyle3(t)}else if(this._state===$){this._stateBeforeStyle4(t)}else if(this._state===tt){this._stateAfterStyle1(t)}else if(this._state===et){this._stateAfterStyle2(t)}else if(this._state===it){this._stateAfterStyle3(t)}else if(this._state===st){this._stateAfterStyle4(t)}else if(this._state===nt){this._stateBeforeEntity(t)}else if(this._state===rt){this._stateBeforeNumericEntity(t)}else if(this._state===at){this._stateInNamedEntity(t)}else if(this._state===ot){this._stateInNumericEntity(t)}else if(this._state===ht){this._stateInHexEntity(t)}else{this._cbs.onerror(Error("unknown _state"),this._state)}this._index++}this._cleanup()};Tokenizer.prototype.pause=function(){this._running=false};Tokenizer.prototype.resume=function(){this._running=true;if(this._index<this._buffer.length){this._parse()}if(this._ended){this._finish()}};Tokenizer.prototype.end=function(t){if(this._ended)this._cbs.onerror(Error(".end() after done!"));if(t)this.write(t);this._ended=true;if(this._running)this._finish()};Tokenizer.prototype._finish=function(){if(this._sectionStart<this._index){this._handleTrailingData()}this._cbs.onend()};Tokenizer.prototype._handleTrailingData=function(){var t=this._buffer.substr(this._sectionStart);if(this._state===H||this._state===M||this._state===O){this._cbs.oncdata(t)}else if(this._state===z||this._state===E||this._state===w){this._cbs.oncomment(t)}else if(this._state===at&&!this._xmlMode){this._parseLegacyEntity();if(this._sectionStart<this._index){this._state=this._baseState;this._handleTrailingData()}}else if(this._state===ot&&!this._xmlMode){this._decodeNumericEntity(2,10);if(this._sectionStart<this._index){this._state=this._baseState;this._handleTrailingData()}}else if(this._state===ht&&!this._xmlMode){this._decodeNumericEntity(3,16);if(this._sectionStart<this._index){this._state=this._baseState;this._handleTrailingData()}}else if(this._state!==f&&this._state!==u&&this._state!==y&&this._state!==m&&this._state!==b&&this._state!==S&&this._state!==g&&this._state!==x&&this._state!==p){this._cbs.ontext(t)}};Tokenizer.prototype.reset=function(){Tokenizer.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)};Tokenizer.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index};Tokenizer.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)};Tokenizer.prototype._emitToken=function(t){this._cbs[t](this._getSection());this._sectionStart=-1};Tokenizer.prototype._emitPartial=function(t){if(this._baseState!==h){this._cbs.onattribdata(t)}else{this._cbs.ontext(t)}}},661:function(t,e,i){t.exports=Stream;var s=i(656);var n=i(850).Writable;var r=i(485).StringDecoder;var a=i(459).Buffer;function Stream(t,e){var i=this._parser=new s(t,e);var a=this._decoder=new r;n.call(this,{decodeStrings:false});this.once("finish",function(){i.end(a.end())})}i(424)(Stream,n);n.prototype._write=function(t,e,i){if(t instanceof a)t=this._decoder.write(t);this._parser.write(t);i()}},848:function(t,e,i){var s=i(435);var n=s.DomHandler;var r=s.DomUtils;function FeedHandler(t,e){this.init(t,e)}i(424)(FeedHandler,n);FeedHandler.prototype.init=n;function getElements(t,e){return r.getElementsByTagName(t,e,true)}function getOneElement(t,e){return r.getElementsByTagName(t,e,true,1)[0]}function fetch(t,e,i){return r.getText(r.getElementsByTagName(t,e,i,1)).trim()}function addConditionally(t,e,i,s,n){var r=fetch(i,s,n);if(r)t[e]=r}var a=function(t){return t==="rss"||t==="feed"||t==="rdf:RDF"};FeedHandler.prototype.onend=function(){var t={},e=getOneElement(a,this.dom),i,s;if(e){if(e.name==="feed"){s=e.children;t.type="atom";addConditionally(t,"id","id",s);addConditionally(t,"title","title",s);if((i=getOneElement("link",s))&&(i=i.attribs)&&(i=i.href))t.link=i;addConditionally(t,"description","subtitle",s);if(i=fetch("updated",s))t.updated=new Date(i);addConditionally(t,"author","email",s,true);t.items=getElements("entry",s).map(function(t){var e={},i;t=t.children;addConditionally(e,"id","id",t);addConditionally(e,"title","title",t);if((i=getOneElement("link",t))&&(i=i.attribs)&&(i=i.href))e.link=i;if(i=fetch("summary",t)||fetch("content",t))e.description=i;if(i=fetch("updated",t))e.pubDate=new Date(i);return e})}else{s=getOneElement("channel",e.children).children;t.type=e.name.substr(0,3);t.id="";addConditionally(t,"title","title",s);addConditionally(t,"link","link",s);addConditionally(t,"description","description",s);if(i=fetch("lastBuildDate",s))t.updated=new Date(i);addConditionally(t,"author","managingEditor",s,true);t.items=getElements("item",e.children).map(function(t){var e={},i;t=t.children;addConditionally(e,"id","guid",t);addConditionally(e,"title","title",t);addConditionally(e,"link","link",t);addConditionally(e,"description","description",t);if(i=fetch("pubDate",t))e.pubDate=new Date(i);return e})}}this.dom=t;n.prototype._handleCallback.call(this,e?null:Error("couldn't find root of feed"))};t.exports=FeedHandler},849:function(t,e,i){t.exports=Stream;var s=i(661);function Stream(t){s.call(this,new Cbs(this),t)}i(424)(Stream,s);Stream.prototype.readable=true;function Cbs(t){this.scope=t}var n=i(435).EVENTS;Object.keys(n).forEach(function(t){if(n[t]===0){Cbs.prototype["on"+t]=function(){this.scope.emit(t)}}else if(n[t]===1){Cbs.prototype["on"+t]=function(e){this.scope.emit(t,e)}}else if(n[t]===2){Cbs.prototype["on"+t]=function(e,i){this.scope.emit(t,e,i)}}else{throw Error("wrong number of arguments!")}})},851:function(t,e,i){t.exports=ProxyHandler;function ProxyHandler(t){this._cbs=t||{}}var s=i(435).EVENTS;Object.keys(s).forEach(function(t){if(s[t]===0){t="on"+t;ProxyHandler.prototype[t]=function(){if(this._cbs[t])this._cbs[t]()}}else if(s[t]===1){t="on"+t;ProxyHandler.prototype[t]=function(e){if(this._cbs[t])this._cbs[t](e)}}else if(s[t]===2){t="on"+t;ProxyHandler.prototype[t]=function(e,i){if(this._cbs[t])this._cbs[t](e,i)}}else{throw Error("wrong number of arguments")}})},862:function(t,e,i){t.exports=CollectingHandler;function CollectingHandler(t){this._cbs=t||{};this.events=[]}var s=i(435).EVENTS;Object.keys(s).forEach(function(t){if(s[t]===0){t="on"+t;CollectingHandler.prototype[t]=function(){this.events.push([t]);if(this._cbs[t])this._cbs[t]()}}else if(s[t]===1){t="on"+t;CollectingHandler.prototype[t]=function(e){this.events.push([t,e]);if(this._cbs[t])this._cbs[t](e)}}else if(s[t]===2){t="on"+t;CollectingHandler.prototype[t]=function(e,i){this.events.push([t,e,i]);if(this._cbs[t])this._cbs[t](e,i)}}else{throw Error("wrong number of arguments")}});CollectingHandler.prototype.onreset=function(){this.events=[];if(this._cbs.onreset)this._cbs.onreset()};CollectingHandler.prototype.restart=function(){if(this._cbs.onreset)this._cbs.onreset();for(var t=0,e=this.events.length;t<e;t++){if(this._cbs[this.events[t][0]]){var i=this.events[t].length;if(i===1){this._cbs[this.events[t][0]]()}else if(i===2){this._cbs[this.events[t][0]](this.events[t][1])}else{this._cbs[this.events[t][0]](this.events[t][1],this.events[t][2])}}}}}}]);