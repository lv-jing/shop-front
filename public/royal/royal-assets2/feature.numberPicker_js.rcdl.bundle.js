(window["RCDLjsonFunction"]=window["RCDLjsonFunction"]||[]).push([[17],{178:function(e,t,r){"use strict";r.r(t);var a=r(416);var n=r.n(a);var u=r(417);var i=r(32);var s=r.n(i);var c=r(1);var l=r.n(c);var b=r(8);var o=r.n(b);var f=r(0);var v=r.n(f);RCDL.features.numberPicker={instances:{},init:function init(e,t){var r;var a=typeof t==="undefined"?window.document:t.parentNode;var n=RCDL.utilities.queryDOM(e,a)||RCDL.utilities.queryDOM(".rc-input__number-picker",a);v()(r=o()(n)).call(r,function(e,t){var r=n[e].querySelector(".rc-input__number-picker");if(r!==null&&typeof r!=="undefined"){if(r.getAttribute("data-number-picker-active")!=="true"){r.setAttribute("data-number-picker-active","true");RCDL.features.numberPicker.instances[t]={};RCDL.features.numberPicker.instances[t].buttons=[];RCDL.features.numberPicker.instances[t].attributes={};RCDL.features.numberPicker.instances[t].picker=r;RCDL.features.numberPicker.create(t)}}})},create:function create(e){var t=RCDL.features.numberPicker.instances;var r=t[e].picker.parentElement.getAttribute("data-js-buttons");var a=t[e].picker.getAttribute("rc-data-number-picker-initial-value")||0;t[e].picker.style.width="57px";if(r!==null){var n=[];n=RCDL.features.numberPicker.prepareButtons(r,e);RCDL.create.button(t[e].picker,n);t[e].buttons=n}RCDL.features.numberPicker.setAttributes(["step","min","max"],e);if(t[e].buttons.length>0){RCDL.features.numberPicker.handleDisable(0,e)}RCDL.features.numberPicker.setInputValue(a,e);RCDL.features.numberPicker.handleFocus(e);RCDL.features.numberPicker.handleBlur(e);RCDL.features.numberPicker.handleButtonClick(e);RCDL.features.numberPicker.handleKeyUp(e)},prepareButtons:function prepareButtons(e,t){var r=[];try{e=JSON.parse(e)}catch(t){e=["remove","add"];console.log("Error occured when trying to create Number Picker buttons: ".concat(t))}v()(e).call(e,function(e,a){var n=["rc-btn","rc-btn--increment","rc-icon","rc-brand1"];var u;switch(a){case 1:u="append";n.push("rc-plus--xs");break;case 0:u="prepend";n.push("rc-minus--xs");break;default:throw new Error("Too many buttons passed in Number picker configuration array. You can use only two.")}r.push({name:e,className:n,position:u});RCDL.features.numberPicker.instances[t].attributes[e]=a});return r},setAttributes:function setAttributes(e,t){var r=RCDL.features.numberPicker.instances;v()(e).call(e,function(e){var a=e==="step"?"aria-"+e:"aria-value"+e;var n=r[t].picker.getAttribute(a);if(isNaN(n)){var u;throw new Error(l()(u="The attribute you're trying to pass to number picker must be a number.\n        ".concat(e,":")).call(u,n," is not a number."))}else{r[t].attributes[e]=n}})},handleButtonClick:function handleButtonClick(e){var t;var r=RCDL.features.numberPicker.instances;v()(t=o()(r[e].buttons)).call(t,function(t){var a=r[e].buttons[t];a.addEventListener("click",function(){var t=s()(r[e].picker.value);var n=a.getAttribute("aria-label");var u=r[e].attributes.step||1;switch(n){case"Add":t=t+u;RCDL.features.numberPicker.handleValueChange(t,e);break;case"Remove":t=t-u;RCDL.features.numberPicker.handleValueChange(t,e);break;default:throw new Error("Incorrect aria label has been passed to the button. Check your number pickers implementation")}})})},handleKeyUp:function handleKeyUp(e){var t=RCDL.features.numberPicker.instances;t[e].picker.addEventListener("keyup",function(t){var r=s()(t.target.value);RCDL.features.numberPicker.handleValueChange(r,e)})},handleValueChange:function handleValueChange(e,t){var r=RCDL.features.numberPicker.instances;var a=RCDL.features.numberPicker.calculateValue(e,t);RCDL.features.numberPicker.setInputValue(a,t);if(r[t].buttons.length>0){RCDL.features.numberPicker.handleDisable(a,t)}},calculateValue:function calculateValue(e,t){var r=RCDL.features.numberPicker.instances;var a=r[t].attributes["max"];var n=r[t].attributes["min"];var u=RCDL.utilities.closest(r[t].picker,".rc-input__number-picker-wrapper");if(e>a){}else if(e<n){}return e},handleDisable:function handleDisable(e,t){var r=RCDL.features.numberPicker.instances;var a=r[t].attributes["max"];var n=r[t].attributes["min"];var u=r[t].buttons[r[t].attributes["add"]];var i=r[t].buttons[r[t].attributes["remove"]];if(e>=a){u.setAttribute("disabled","");i.removeAttribute("disabled","")}else if(e<=n){i.setAttribute("disabled","");u.removeAttribute("disabled","")}else{i.removeAttribute("disabled","");u.removeAttribute("disabled","")}},setInputValue:function setInputValue(e,t){var r=RCDL.features.numberPicker.instances;r[t].picker.value=e;r[t].picker.setAttribute("value",e);r[t].picker.setAttribute("aria-valuenow",e)},handleFocus:function handleFocus(e){var t=RCDL.features.numberPicker.instances;t[e].picker.addEventListener("focus",function(r){if(s()(r.target.value)===0){r.target.value="";t[e].picker.select()}})},handleBlur:function handleBlur(e){var t=RCDL.features.numberPicker.instances;t[e].picker.addEventListener("blur",function(e){if(e.target.value===""){e.target.value=0}})}};t["default"]={fn:function(){var e=Object(u["a"])(n.a.mark(function _callee(){return n.a.wrap(function _callee$(e){while(1){switch(e.prev=e.next){case 0:return e.abrupt("return",RCDL.features.numberPicker.init(["[data-number-picker]"]));case 1:case"end":return e.stop()}}},_callee)}));function fn(){return e.apply(this,arguments)}return fn}()}}}]);